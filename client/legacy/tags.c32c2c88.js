import{_ as n,a as t,b as r,c as e,i,s as c,d as o,S as u,Q as a,k as f,l as s,m as l,h,q as d,z as v,f as p,g as m,n as g,R as y,o as b,j as x,r as $,T as _,t as k,p as w,U as R,u as E,C as D,v as I,B as S,x as U,y as V,P,e as L,V as O,L as j,W as N,K as A,G as M,I as T,J as Q,M as z,X as B,Y as C,Z as G,$ as q,a0 as H,E as J}from"./client.9cafd7a0.js";import{G as W,I as F}from"./hydrus-connection.1d2cff91.js";function K(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var i,c=t(n);if(e){var o=t(this).constructor;i=Reflect.construct(c,arguments,o)}else i=c.apply(this,arguments);return r(this,i)}}function X(n){var t,r,e,i=n[13].message+"";return{c:function(){t=f("div"),r=f("pre"),e=k(i),this.h()},l:function(n){t=s(n,"DIV",{class:!0});var c=l(t);r=s(c,"PRE",{style:!0});var o=l(r);e=w(o,i),o.forEach(h),c.forEach(h),this.h()},h:function(){R(r,"color","red"),d(t,"class","card-body")},m:function(n,i){p(n,t,i),E(t,r),E(r,e)},p:function(n,t){1&t&&i!==(i=n[13].message+"")&&D(e,i)},d:function(n){n&&h(t)}}}function Y(n){var t,r,e,i;return{c:function(){t=f("img"),this.h()},l:function(n){t=s(n,"IMG",{src:!0,alt:!0,id:!0,class:!0}),this.h()},h:function(){t.src!==(r=URL.createObjectURL(n[12]))&&d(t,"src",r),d(t,"alt",n[0]),d(t,"id",n[0]),d(t,"class","svelte-1x1zhyt")},m:function(r,c){p(r,t,c),n[8](t),e||(i=[I(t,"load",n[4]),I(t,"click",n[5])],e=!0)},p:function(n,e){1&e&&t.src!==(r=URL.createObjectURL(n[12]))&&d(t,"src",r),1&e&&d(t,"alt",n[0]),1&e&&d(t,"id",n[0])},d:function(r){r&&h(t),n[8](null),e=!1,S(i)}}}function Z(n){var t,r,e,i,c,o;return{c:function(){t=f("div"),r=f("div"),e=U(),i=f("p"),c=k("Querying "),o=k(n[0]),this.h()},l:function(u){t=s(u,"DIV",{class:!0});var a=l(t);r=s(a,"DIV",{class:!0,role:!0,"aria-hidden":!0}),l(r).forEach(h),e=V(a),i=s(a,"P",{});var f=l(i);c=w(f,"Querying "),o=w(f,n[0]),f.forEach(h),a.forEach(h),this.h()},h:function(){d(r,"class","spinner-border"),d(r,"role","status"),d(r,"aria-hidden","true"),d(t,"class","card-body loading svelte-1x1zhyt")},m:function(n,u){p(n,t,u),E(t,r),E(t,e),E(t,i),E(i,c),E(i,o)},p:function(n,t){1&t&&D(o,n[0])},d:function(n){n&&h(t)}}}function nn(n){var t,r,e={ctx:n,current:null,token:null,pending:Z,then:Y,catch:X,value:12,error:13};return a(r=n[3](n[0]),e),{c:function(){t=f("div"),e.block.c(),this.h()},l:function(n){t=s(n,"DIV",{class:!0});var r=l(t);e.block.l(r),r.forEach(h),this.h()},h:function(){d(t,"class","card svelte-1x1zhyt"),v(t,"active",n[1])},m:function(n,r){p(n,t,r),e.block.m(t,e.anchor=null),e.mount=function(){return t},e.anchor=null},p:function(i,c){var o=m(c,1)[0];if(n=i,e.ctx=n,1&o&&r!==(r=n[3](n[0]))&&a(r,e));else{var u=n.slice();u[12]=e.resolved,e.block.p(u,o)}2&o&&v(t,"active",n[1])},i:g,o:g,d:function(n){n&&h(t),e.block.d(),e.token=null,e=null}}}function tn(n,t,r){var e,i=t.file_id,c=t.max_width,o=void 0===c?200:c,u=t.max_height,a=void 0===u?200:u,f=t.active,s=void 0!==f&&f,l=y();function h(){return(h=x($.mark((function n(t){var r;return $.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=W(),n.next=3,r.get_thumbnail({file_id:t});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return b(x($.mark((function n(){return $.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})))),n.$set=function(n){"file_id"in n&&r(0,i=n.file_id),"max_width"in n&&r(6,o=n.max_width),"max_height"in n&&r(7,a=n.max_height),"active"in n&&r(1,s=n.active)},[i,s,e,function(n){return h.apply(this,arguments)},function(){var n,t,i,c,u,f=(n=e.naturalWidth,t=e.naturalHeight,i=o,c=a,u=Math.min(i/n,c/t),{width:n*u,height:t*u});r(2,e.width=f.width,e),r(2,e.height=f.height,e)},function(n){l("click",{source_event:n,file_id:i,dom_image:e})},o,a,function(n){_[n?"unshift":"push"]((function(){r(2,e=n)}))}]}var rn=function(t){n(a,u);var r=K(a);function a(n){var t;return e(this,a),t=r.call(this),i(o(t),n,tn,nn,c,{file_id:0,max_width:6,max_height:7,active:1}),t}return a}();function en(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var i,c=t(n);if(e){var o=t(this).constructor;i=Reflect.construct(c,arguments,o)}else i=c.apply(this,arguments);return r(this,i)}}function cn(n){var t,r,e={ctx:n,current:null,token:null,pending:an,then:un,catch:on,value:6,error:7};return a(r=n[2](n[0]),e),{c:function(){t=L(),e.block.c()},l:function(n){t=L(),e.block.l(n)},m:function(n,r){p(n,t,r),e.block.m(n,e.anchor=r),e.mount=function(){return t.parentNode},e.anchor=t},p:function(t,i){if(n=t,e.ctx=n,1&i&&r!==(r=n[2](n[0]))&&a(r,e));else{var c=n.slice();c[6]=e.resolved,e.block.p(c,i)}},d:function(n){n&&h(t),e.block.d(n),e.token=null,e=null}}}function on(n){var t,r,e,i=n[7].message+"";return{c:function(){t=U(),r=f("pre"),e=k(i),this.h()},l:function(n){t=V(n),r=s(n,"PRE",{style:!0});var c=l(r);e=w(c,i),c.forEach(h),this.h()},h:function(){R(r,"color","red")},m:function(n,i){p(n,t,i),p(n,r,i),E(r,e)},p:function(n,t){1&t&&i!==(i=n[7].message+"")&&D(e,i)},d:function(n){n&&h(t),n&&h(r)}}}function un(n){var t,r;return{c:function(){t=f("img"),this.h()},l:function(n){t=s(n,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h:function(){d(t,"class","img-fluid"),t.src!==(r=n[6])&&d(t,"src",r),d(t,"alt","")},m:function(n,r){p(n,t,r)},p:function(n,e){1&e&&t.src!==(r=n[6])&&d(t,"src",r)},d:function(n){n&&h(t)}}}function an(n){var t,r;return{c:function(){t=f("div"),this.h()},l:function(n){t=s(n,"DIV",{class:!0,role:!0,title:!0,"aria-hidden":!0}),l(t).forEach(h),this.h()},h:function(){d(t,"class","spinner-border svelte-1imv7t1"),d(t,"role","status"),d(t,"title",r="Downloading "+n[0]),d(t,"aria-hidden","true")},m:function(n,r){p(n,t,r)},p:function(n,e){1&e&&r!==(r="Downloading "+n[0])&&d(t,"title",r)},d:function(n){n&&h(t)}}}function fn(n){var t,r="object"===P(n[1])&&F(n[1].mime),e=r&&cn(n);return{c:function(){e&&e.c(),t=L()},l:function(n){e&&e.l(n),t=L()},m:function(n,r){e&&e.m(n,r),p(n,t,r)},p:function(n,i){var c=m(i,1)[0];2&c&&(r="object"===P(n[1])&&F(n[1].mime)),r?e?e.p(n,c):((e=cn(n)).c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:g,o:g,d:function(n){e&&e.d(n),n&&h(t)}}}function sn(n,t,r){var e,i=t.file_id,c=t.metadata,o=t.file,u=void 0===o?null:o;function a(){return(a=x($.mark((function n(t){var o,a;return $.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e&&URL.revokeObjectURL(e),o=W(),n.next=4,o.get_file({file_id:i});case 4:return a=n.sent,r(3,u=new File([a],String(i)+c.ext,{type:c.mime})),e=URL.createObjectURL(u),n.abrupt("return",e);case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return b(x($.mark((function n(){return $.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(function(){e&&URL.revokeObjectURL(e)}));case 1:case"end":return n.stop()}}),n)})))),n.$set=function(n){"file_id"in n&&r(0,i=n.file_id),"metadata"in n&&r(1,c=n.metadata),"file"in n&&r(3,u=n.file)},[i,c,function(n){return a.apply(this,arguments)},u]}var ln=function(t){n(a,u);var r=en(a);function a(n){var t;return e(this,a),t=r.call(this),i(o(t),n,sn,fn,c,{file_id:0,metadata:1,file:3}),t}return a}();function hn(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var i,c=t(n);if(e){var o=t(this).constructor;i=Reflect.construct(c,arguments,o)}else i=c.apply(this,arguments);return r(this,i)}}function dn(n){var t,r,e,i,c,o,u,a,v,m,g,y,b,x=[pn,vn],$=[];function _(n,t){return"number"==typeof n[0]?0:1}i=_(n),c=$[i]=x[i](n);var R=n[0]>0&&bn(n),D=n[0]<n[2].length-1&&xn(n);return{c:function(){t=f("div"),r=f("div"),e=f("div"),c.c(),o=U(),R&&R.c(),u=U(),D&&D.c(),a=U(),v=f("button"),m=k("❌"),this.h()},l:function(n){t=s(n,"DIV",{class:!0});var i=l(t);r=s(i,"DIV",{class:!0});var f=l(r);e=s(f,"DIV",{class:!0});var d=l(e);c.l(d),d.forEach(h),f.forEach(h),o=V(i),R&&R.l(i),u=V(i),D&&D.l(i),a=V(i),v=s(i,"BUTTON",{class:!0});var p=l(v);m=w(p,"❌"),p.forEach(h),i.forEach(h),this.h()},h:function(){d(e,"class","image current svelte-70xrmp"),d(r,"class","images svelte-70xrmp"),d(v,"class","close svelte-70xrmp"),d(t,"class","background svelte-70xrmp")},m:function(c,f){p(c,t,f),E(t,r),E(r,e),$[i].m(e,null),E(t,o),R&&R.m(t,null),E(t,u),D&&D.m(t,null),E(t,a),E(t,v),E(v,m),g=!0,y||(b=I(v,"click",n[6]),y=!0)},p:function(n,r){var o=i;(i=_(n))===o?$[i].p(n,r):(O(),j($[o],1,1,(function(){$[o]=null})),N(),(c=$[i])||(c=$[i]=x[i](n)).c(),A(c,1),c.m(e,null)),n[0]>0?R?R.p(n,r):((R=bn(n)).c(),R.m(t,u)):R&&(R.d(1),R=null),n[0]<n[2].length-1?D?D.p(n,r):((D=xn(n)).c(),D.m(t,a)):D&&(D.d(1),D=null)},i:function(n){g||(A(c),g=!0)},o:function(n){j(c),g=!1},d:function(n){n&&h(t),$[i].d(),R&&R.d(),D&&D.d(),y=!1,b()}}}function vn(n){var t,r,e,i;return{c:function(){t=f("pre"),r=k("index ["),e=k(n[0]),i=k("] is not a number"),this.h()},l:function(c){t=s(c,"PRE",{style:!0});var o=l(t);r=w(o,"index ["),e=w(o,n[0]),i=w(o,"] is not a number"),o.forEach(h),this.h()},h:function(){R(t,"color","red")},m:function(n,c){p(n,t,c),E(t,r),E(t,e),E(t,i)},p:function(n,t){1&t&&D(e,n[0])},i:g,o:g,d:function(n){n&&h(t)}}}function pn(n){var t,r,e,i={ctx:n,current:null,token:null,pending:yn,then:gn,catch:mn,value:10,error:11,blocks:[,,,]};return a(r=n[3](n[2][n[0]]),i),{c:function(){t=L(),i.block.c()},l:function(n){t=L(),i.block.l(n)},m:function(n,r){p(n,t,r),i.block.m(n,i.anchor=r),i.mount=function(){return t.parentNode},i.anchor=t,e=!0},p:function(t,e){if(n=t,i.ctx=n,5&e&&r!==(r=n[3](n[2][n[0]]))&&a(r,i));else{var c=n.slice();c[10]=i.resolved,i.block.p(c,e)}},i:function(n){e||(A(i.block),e=!0)},o:function(n){for(var t=0;t<3;t+=1){var r=i.blocks[t];j(r)}e=!1},d:function(n){n&&h(t),i.block.d(n),i.token=null,i=null}}}function mn(n){var t,r,e,i,c,o,u,a,d,v,m,y,b,x,$,_,I=n[2].length+"",S=n[2][n[0]]+"",P=n[11].message+"";return{c:function(){t=f("p"),r=k("Querying\n              "),e=f("code"),i=k(n[0]),c=k("\n              of\n              "),o=f("code"),u=k("file_ids["),a=k(I),d=k("]"),v=U(),m=k(S),y=k("'s metadata"),b=U(),x=f("pre"),$=k(P),_=U(),this.h()},l:function(f){t=s(f,"P",{style:!0});var p=l(t);r=w(p,"Querying\n              "),e=s(p,"CODE",{});var g=l(e);i=w(g,n[0]),g.forEach(h),c=w(p,"\n              of\n              "),o=s(p,"CODE",{});var k=l(o);u=w(k,"file_ids["),a=w(k,I),d=w(k,"]"),k.forEach(h),v=V(p),m=w(p,S),y=w(p,"'s metadata"),p.forEach(h),b=V(f),x=s(f,"PRE",{style:!0});var R=l(x);$=w(R,P),R.forEach(h),_=V(f),this.h()},h:function(){R(t,"color","yellow"),R(x,"color","red")},m:function(n,f){p(n,t,f),E(t,r),E(t,e),E(e,i),E(t,c),E(t,o),E(o,u),E(o,a),E(o,d),E(t,v),E(t,m),E(t,y),p(n,b,f),p(n,x,f),E(x,$),p(n,_,f)},p:function(n,t){1&t&&D(i,n[0]),4&t&&I!==(I=n[2].length+"")&&D(a,I),5&t&&S!==(S=n[2][n[0]]+"")&&D(m,S),5&t&&P!==(P=n[11].message+"")&&D($,P)},i:g,o:g,d:function(n){n&&h(t),n&&h(b),n&&h(x),n&&h(_)}}}function gn(n){var t,r;return t=new ln({props:{file_id:n[2][n[0]],metadata:n[10]}}),{c:function(){M(t.$$.fragment)},l:function(n){T(t.$$.fragment,n)},m:function(n,e){Q(t,n,e),r=!0},p:function(n,r){var e={};5&r&&(e.file_id=n[2][n[0]]),5&r&&(e.metadata=n[10]),t.$set(e)},i:function(n){r||(A(t.$$.fragment,n),r=!0)},o:function(n){j(t.$$.fragment,n),r=!1},d:function(n){z(t,n)}}}function yn(n){var t,r;return{c:function(){t=f("div"),this.h()},l:function(n){t=s(n,"DIV",{class:!0,role:!0,title:!0}),l(t).forEach(h),this.h()},h:function(){d(t,"class","spinner-border svelte-70xrmp"),d(t,"role","status"),d(t,"title",r="Querying "+n[2][n[0]]+"'s metadata")},m:function(n,r){p(n,t,r)},p:function(n,e){5&e&&r!==(r="Querying "+n[2][n[0]]+"'s metadata")&&d(t,"title",r)},i:g,o:g,d:function(n){n&&h(t)}}}function bn(n){var t,r,e,i;return{c:function(){t=f("button"),r=k("◀"),this.h()},l:function(n){t=s(n,"BUTTON",{id:!0,class:!0});var e=l(t);r=w(e,"◀"),e.forEach(h),this.h()},h:function(){d(t,"id","previous"),d(t,"class","nav-buttons svelte-70xrmp")},m:function(c,o){p(c,t,o),E(t,r),e||(i=I(t,"click",n[4]),e=!0)},p:g,d:function(n){n&&h(t),e=!1,i()}}}function xn(n){var t,r,e,i;return{c:function(){t=f("button"),r=k("▶"),this.h()},l:function(n){t=s(n,"BUTTON",{id:!0,class:!0});var e=l(t);r=w(e,"▶"),e.forEach(h),this.h()},h:function(){d(t,"id","next"),d(t,"class","nav-buttons svelte-70xrmp")},m:function(c,o){p(c,t,o),E(t,r),e||(i=I(t,"click",n[5]),e=!0)},p:g,d:function(n){n&&h(t),e=!1,i()}}}function $n(n){var t,r,e=n[1]&&dn(n);return{c:function(){e&&e.c(),t=L()},l:function(n){e&&e.l(n),t=L()},m:function(n,i){e&&e.m(n,i),p(n,t,i),r=!0},p:function(n,r){var i=m(r,1)[0];n[1]?e?(e.p(n,i),2&i&&A(e,1)):((e=dn(n)).c(),A(e,1),e.m(t.parentNode,t)):e&&(O(),j(e,1,1,(function(){e=null})),N())},i:function(n){r||(A(e),r=!0)},o:function(n){j(e),r=!1},d:function(n){e&&e.d(n),n&&h(t)}}}function _n(n,t,r){var e,i=t.file_ids,c=void 0===i?[]:i,o=t.index,u=void 0===o?0:o,a=t.enabled,f=void 0!==a&&a,s=new Map;function l(){return(l=x($.mark((function n(t){var r,i;return $.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!s.has(t)){n.next=4;break}return n.abrupt("return",s.get(t));case 4:return e||(e=W()),n.next=7,e.get_file_metadata({file_ids:[t]});case 7:return r=n.sent,i=r.metadata,s.set(t,i[0]),n.abrupt("return",i[0]);case 11:case"end":return n.stop()}}),n)})))).apply(this,arguments)}b((function(){}));return n.$set=function(n){"file_ids"in n&&r(2,c=n.file_ids),"index"in n&&r(0,u=n.index),"enabled"in n&&r(1,f=n.enabled)},[u,f,c,function(n){return l.apply(this,arguments)},function(){r(0,u--,u)},function(){r(0,u++,u)},function(){r(1,f=!1)}]}var kn=function(t){n(a,u);var r=hn(a);function a(n){var t;return e(this,a),t=r.call(this),i(o(t),n,_n,$n,c,{file_ids:2,index:0,enabled:1}),t}return a}();function wn(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var i,c=t(n);if(e){var o=t(this).constructor;i=Reflect.construct(c,arguments,o)}else i=c.apply(this,arguments);return r(this,i)}}function Rn(n,t){var r;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(r=function(n,t){if(!n)return;if("string"==typeof n)return En(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return En(n,t)}(n))||t&&n&&"number"==typeof n.length){r&&(n=r);var e=0,i=function(){};return{s:i,n:function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}},e:function(n){throw n},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,u=!1;return{s:function(){r=n[Symbol.iterator]()},n:function(){var n=r.next();return o=n.done,n},e:function(n){u=!0,c=n},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw c}}}}function En(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}var Dn=H.Map;function In(n,t,r){var e=n.slice();return e[16]=t[r],e[18]=r,e}function Sn(n,t){var r,e,i,c=t[18];(e=new rn({props:{file_id:t[16],active:t[0]==t[18]}})).$on("click",(function(){for(var n,r=arguments.length,e=new Array(r),i=0;i<r;i++)e[i]=arguments[i];return(n=t)[11].apply(n,[t[18]].concat(e))}));var o=function(){return t[12](r,c)},u=function(){return t[12](null,c)};return{key:n,first:null,c:function(){r=f("div"),M(e.$$.fragment),this.h()},l:function(n){r=s(n,"DIV",{class:!0});var t=l(r);T(e.$$.fragment,t),t.forEach(h),this.h()},h:function(){d(r,"class","entry svelte-dgcmbo"),this.first=r},m:function(n,t){p(n,r,t),Q(e,r,null),o(),i=!0},p:function(n,r){t=n;var i={};4&r&&(i.file_id=t[16]),5&r&&(i.active=t[0]==t[18]),e.$set(i),c!==t[18]&&(u(),c=t[18],o())},i:function(n){i||(A(e.$$.fragment,n),i=!0)},o:function(n){j(e.$$.fragment,n),i=!1},d:function(n){n&&h(r),z(e),u()}}}function Un(n){var t,r,e,i,c,o,u,a,v,g,y,b,x,$,R,S,P,L=[],H=new Dn,J=n[2].length+"",W=n[1].length+"";function F(t){n[8].call(null,t)}function K(t){n[9].call(null,t)}function X(t){n[10].call(null,t)}var Y={};void 0!==n[0]&&(Y.index=n[0]),void 0!==n[4]&&(Y.enabled=n[4]),void 0!==n[2]&&(Y.file_ids=n[2]),t=new kn({props:Y}),_.push((function(){return B(t,"index",F)})),_.push((function(){return B(t,"enabled",K)})),_.push((function(){return B(t,"file_ids",X)}));for(var Z=n[2],nn=function(n){return n[16]},tn=0;tn<Z.length;tn+=1){var rn=In(n,Z,tn),en=nn(rn);H.set(en,L[tn]=Sn(en,rn))}return{c:function(){M(t.$$.fragment),c=U(),o=f("div");for(var n=0;n<L.length;n+=1)L[n].c();u=U(),a=f("div"),v=f("div"),g=f("span"),y=k("Loaded "),b=k(J),x=k(" / "),$=k(W),this.h()},l:function(n){T(t.$$.fragment,n),c=V(n),o=s(n,"DIV",{class:!0});for(var r=l(o),e=0;e<L.length;e+=1)L[e].l(r);u=V(r),a=s(r,"DIV",{class:!0});var i=l(a);v=s(i,"DIV",{class:!0});var f=l(v);g=s(f,"SPAN",{});var d=l(g);y=w(d,"Loaded "),b=w(d,J),x=w(d," / "),$=w(d,W),d.forEach(h),f.forEach(h),i.forEach(h),r.forEach(h),this.h()},h:function(){d(v,"class","alert alert-primary d-flex align-items-center"),d(a,"class","next-batch-placeholder svelte-dgcmbo"),d(o,"class","gallery")},m:function(r,e){Q(t,r,e),p(r,c,e),p(r,o,e);for(var i=0;i<L.length;i+=1)L[i].m(o,null);E(o,u),E(o,a),E(a,v),E(v,g),E(g,y),E(g,b),E(g,x),E(g,$),n[13](a),R=!0,S||(P=I(v,"click",n[6]),S=!0)},p:function(n,c){var a=m(c,1)[0],f={};if(!r&&1&a&&(r=!0,f.index=n[0],C((function(){return r=!1}))),!e&&16&a&&(e=!0,f.enabled=n[4],C((function(){return e=!1}))),!i&&4&a&&(i=!0,f.file_ids=n[2],C((function(){return i=!1}))),t.$set(f),29&a){var s=n[2];O(),L=G(L,a,nn,1,n,s,H,o,q,Sn,u,In),N()}(!R||4&a)&&J!==(J=n[2].length+"")&&D(b,J),(!R||2&a)&&W!==(W=n[1].length+"")&&D($,W)},i:function(n){if(!R){A(t.$$.fragment,n);for(var r=0;r<Z.length;r+=1)A(L[r]);R=!0}},o:function(n){j(t.$$.fragment,n);for(var r=0;r<L.length;r+=1)j(L[r]);R=!1},d:function(r){z(t,r),r&&h(c),r&&h(o);for(var e=0;e<L.length;e+=1)L[e].d();n[13](null),S=!1,P()}}}function Vn(n,t,r){var e,i=t.file_ids,c=void 0===i?[]:i,o=[],u=[],a=t.range,f=void 0===a?10:a,s=t.index,l=void 0===s?0:s,h=0,d=!1;function v(){if(c.length>0&&c.length!==o.length){var n=o.length,t=n+f-1,e=c.slice(n,Math.min(t,c.length));r(2,o=o.concat(e))}}b((function(){var n=new IntersectionObserver((function(n){var t,r=Rn(n);try{for(r.s();!(t=r.n()).done;){switch(t.value.target){case e:v()}}}catch(n){r.e(n)}finally{r.f()}}));return n.observe(e),function(){n.disconnect()}}));return n.$set=function(n){"file_ids"in n&&r(1,c=n.file_ids),"range"in n&&r(7,f=n.range),"index"in n&&r(0,l=n.index)},n.$$.update=function(){16385&n.$$.dirty&&r(14,h=Math.max(l,h)),16390&n.$$.dirty&&h>=o.length-2&&c.length>0&&(console.log(h,o.length),v()),11&n.$$.dirty&&c.length>0&&u&&u[l]&&u[l].scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},[l,c,o,u,d,e,v,f,function(n){r(0,l=n)},function(n){r(4,d=n)},function(n){r(2,o=n)},function(n,t){r(0,l=n),r(4,d=!0)},function(n,t){u[t]!==n&&_[n?"unshift":"push"]((function(){u[t]=n,r(3,u),r(2,o)}))},function(n){_[n?"unshift":"push"]((function(){r(5,e=n)}))}]}var Pn=function(t){n(a,u);var r=wn(a);function a(n){var t;return e(this,a),t=r.call(this),i(o(t),n,Vn,Un,c,{file_ids:1,range:7,index:0}),t}return a}();function Ln(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var i,c=t(n);if(e){var o=t(this).constructor;i=Reflect.construct(c,arguments,o)}else i=c.apply(this,arguments);return r(this,i)}}function On(n,t,r){var e=n.slice();return e[7]=t[r],e}function jn(n){var t,r,e=n[7]+"";return{c:function(){t=f("span"),r=k(e),this.h()},l:function(n){t=s(n,"SPAN",{type:!0,class:!0});var i=l(t);r=w(i,e),i.forEach(h),this.h()},h:function(){d(t,"type","button"),d(t,"class","btn btn-secondary btn-sm")},m:function(n,e){p(n,t,e),E(t,r)},p:function(n,t){2&t&&e!==(e=n[7]+"")&&D(r,e)},d:function(n){n&&h(t)}}}function Nn(n){for(var t,r,e,i,c,o,u,a=n[1],v=[],g=0;g<a.length;g+=1)v[g]=jn(On(n,a,g));return o=new Pn({props:{file_ids:n[0]}}),{c:function(){t=f("h1"),r=k("Search Results for"),e=U(),i=f("div");for(var n=0;n<v.length;n+=1)v[n].c();c=U(),M(o.$$.fragment),this.h()},l:function(n){t=s(n,"H1",{});var u=l(t);r=w(u,"Search Results for"),u.forEach(h),e=V(n),i=s(n,"DIV",{class:!0});for(var a=l(i),f=0;f<v.length;f+=1)v[f].l(a);a.forEach(h),c=V(n),T(o.$$.fragment,n),this.h()},h:function(){d(i,"class","tags")},m:function(n,a){p(n,t,a),E(t,r),p(n,e,a),p(n,i,a);for(var f=0;f<v.length;f+=1)v[f].m(i,null);p(n,c,a),Q(o,n,a),u=!0},p:function(n,t){var r=m(t,1)[0];if(2&r){var e;for(a=n[1],e=0;e<a.length;e+=1){var c=On(n,a,e);v[e]?v[e].p(c,r):(v[e]=jn(c),v[e].c(),v[e].m(i,null))}for(;e<v.length;e+=1)v[e].d(1);v.length=a.length}var u={};1&r&&(u.file_ids=n[0]),o.$set(u)},i:function(n){u||(A(o.$$.fragment,n),u=!0)},o:function(n){j(o.$$.fragment,n),u=!1},d:function(n){n&&h(t),n&&h(e),n&&h(i),J(v,n),n&&h(c),z(o,n)}}}function An(n,t,r){var e=[],i=[];function c(n){return o.apply(this,arguments)}function o(){return(o=x($.mark((function n(t){var r;return $.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=W(),n.next=3,r.search_files(t,!0,!0);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return b((function(){var n=window.location.search,t=new URLSearchParams(n),o=t.get("q");if(o){var u=JSON.parse(o);r(1,i=u),console.log(i),x($.mark((function n(){var t;return $.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c(i);case 2:t=n.sent,r(0,e=t.file_ids);case 4:case"end":return n.stop()}}),n)})))()}t.get("id")})),[e,i]}var Mn=function(t){n(a,u);var r=Ln(a);function a(n){var t;return e(this,a),t=r.call(this),i(o(t),n,An,Nn,c,{}),t}return a}();export default Mn;
