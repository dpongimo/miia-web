import{K as e,a as t,L as n,c as r,j as a,r as s,M as i,_ as c,b as u,i as o,s as l,d as _,S as f,k as h,t as d,x as p,l as g,m as v,p as y,y as E,h as b,q as S,f as k,u as m,v as w,C as T,z as x,A,N as O,g as I,n as R,O as G,B as P,P as N}from"./client.904937df.js";function L(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function D(t,n,r){return(D=L()?Reflect.construct:function(t,n,r){var a=[null];a.push.apply(a,n);var s=new(Function.bind.apply(t,a));return r&&e(s,r.prototype),s}).apply(null,arguments)}function C(n){var r="function"==typeof Map?new Map:void 0;return(C=function(n){if(null===n||(a=n,-1===Function.toString.call(a).indexOf("[native code]")))return n;var a;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(n))return r.get(n);r.set(n,s)}function s(){return D(n,arguments,t(this).constructor)}return s.prototype=Object.create(n.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),e(s,n)})(n)}function F(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=t(e);if(n){var s=t(this).constructor;r=Reflect.construct(a,arguments,s)}else r=a.apply(this,arguments);return u(this,r)}}var U,j={API_VERSION:"/api_version",SESSION_KEY:"/session_key",REQUEST_NEW_PERMISSIONS:"/request_new_permissions",VERIFY_ACCESS_KEY:"/verify_access_key",ADD_FILE:"/add_files/add_file",CLEAN_TAGS:"/add_tags/clean_tags",GET_TAG_SERVICES:"/add_tags/get_tag_services",ADD_TAGS:"/add_tags/add_tags",GET_URL_FILES:"/add_urls/get_url_files",GET_URL_INFO:"/add_urls/get_url_info",ADD_URL:"/add_urls/add_url",ASSOCIATE_URL:"/add_urls/associate_url",GET_COOKIES:"/manage_cookies/get_cookies",SET_COOKIES:"/manage_cookies/set_cookies",GET_PAGES:"/manage_pages/get_pages",GET_PAGE_INFO:"/manage_pages/get_page_info",FOCUS_PAGE:"/manage_pages/focus_page",SEARCH_FILES:"/get_files/search_files",GET_FILE:"/get_files/file",GET_THUMBNAIL:"/get_files/thumbnail",GET_FILE_METADATA:"/get_files/file_metadata"},q={NOT_IN_DATABASE:0,SUCCESSFUL:1,ALREADY_IN_DATABASE:2,PREVIOUSLY_DELETED:3,FAILED:4,VETOED:7},M={ADD_TO_LOCAL:0,DELETE_FROM_LOCAL:1,PEND_TO_REPOSITORY:2,RESCIND_PEND_FROM_REPOSITORY:3,PETITION_FROM_REPOSITORY:4,RESCIND_A_PETITION_FROM_REPOSITORY:5},Y={POST_URL:0,FILE_URL:2,GALLERY_URL:3,WATCHABLE_URL:4,UNKNOWN_URL:5},K={IMPORT_URLS:0,IMPORT_FILES:1,ADD_TAGS:2,SEARCH_FILES:3,MANAGE_PAGES:4,MANAGE_COOKIES:5},V={Current:0,Pending:1,Deleted:2,Petitioned:3},H={"Gallery downloader":1,"Simple downloader":2,"Hard drive import":3,Petitions:5,"File search":6,"URL downloader":7,Duplicates:8,"Thread watcher":9,"Page of pages":10},B=function(e){c(n,e);var t=F(n);function n(e){var a;return r(this,n),(a=t.call(this,e)).name=a.constructor.name,a}return n}(C(Error)),J=function(e){c(n,e);var t=F(n);function n(e){var a;return r(this,n),(a=t.call(this,e)).name=a.constructor.name,a}return n}(C(Error)),W=function(e){c(n,e);var t=F(n);function n(e){var a;return r(this,n),(a=t.call(this,e)).name=a.constructor.name,a}return n}(C(Error)),Q=function(e){c(n,e);var t=F(n);function n(e){var a;return r(this,n),(a=t.call(this,e)).name=a.constructor.name,a}return n}(C(Error)),z=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),this.address="address"in t?t.address:e.default_api_address,this.access_key="key"in t?t.key:""}var t,c,u,o,l,_,f,h,d,p,g,v,y,E,b,S,k,m,w,T,x,A,O;return n(e,[{key:"build_call",value:(O=a(s.mark((function e(t,n){var r,a,c,u,o,l,_=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=_.length>2&&void 0!==_[2]?_[2]:{},""!==this.access_key&&("headers"in r&&"Hydrus-Client-API-Access-Key"in r.headers||("headers"in r||(r.headers={}),r.headers["Hydrus-Client-API-Access-Key"]=this.access_key)),a=this.address+n,"queries"in r){for(c in a+="?",r.queries)r.queries.hasOwnProperty(c)&&(u=r.queries[c],"object"===i(u)&&(u=JSON.stringify(u)),a+=c+"="+u+"&");a=a.substr(0,a.length-1)}return a=encodeURI(a),o="parse"in r?r.parse:"json",e.next=8,fetch(a,{method:t,headers:r.headers,body:"data"in r?r.data:r.json});case 8:if(!(l=e.sent).ok){e.next=21;break}e.t0=o,e.next="blob"===e.t0?13:(e.t0,16);break;case 13:return e.next=15,l.blob();case 15:return e.abrupt("return",e.sent);case 16:return e.next=18,l.json();case 18:return e.abrupt("return",e.sent);case 19:e.next=22;break;case 21:throw new B(l.statusText);case 22:case"end":return e.stop()}}),e,this)}))),function(e,t){return O.apply(this,arguments)})},{key:"api_version",value:(A=a(s.mark((function e(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.build_call("GET",j.API_VERSION);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return A.apply(this,arguments)})},{key:"api_check",value:(x=a(s.mark((function e(){var t,n;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api_version();case 2:if(t=e.sent,!((n=t.version)>13)){e.next=8;break}throw new Q("You are using an older version of hydrus.js (".concat(13,") that may not work with the newer api (").concat(n,"). Please check if there is an update available!"));case 8:if(!(13>n)){e.next=10;break}throw new Q("This version of hydrus.js (".concat(13,") is built for a newer version of the api than what your hydrus installation is currently using (").concat(n,"). Please update your hydrus."));case 10:case"end":return e.stop()}}),e,this)}))),function(){return x.apply(this,arguments)})},{key:"session_key",value:(T=a(s.mark((function e(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.build_call("GET",j.SESSION_KEY);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return T.apply(this,arguments)})},{key:"request_new_permissions",value:(w=a(s.mark((function e(t,n){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.build_call("GET",j.REQUEST_NEW_PERMISSIONS,{queries:{name:t,basic_permissions:JSON.stringify(n)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return w.apply(this,arguments)})},{key:"verify_access_key",value:(m=a(s.mark((function e(){var t,n,r=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",n=""!==t?{headers:{"Hydrus-Client-API-Access-Key":t}}:{},e.next=4,this.build_call("GET",j.VERIFY_ACCESS_KEY,n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"add_file",value:(k=a(s.mark((function e(t){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn("add_file is not tested"),e.next=3,this.build_call("POST",j.ADD_FILE,"path"in t?{json:{path:t.path}}:{headers:{"Content-Type":"application/octet-stream"},data:t.bytes});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return k.apply(this,arguments)})},{key:"add_tags",value:(S=a(s.mark((function e(t,n){var r;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},"service_names_to_tags"in t||"service_names_to_actions_to_tags"in t){e.next=5;break}throw new J("You must have at least one 'service_names...' argument");case 5:if("object"===i(n)?Object.keys(n).length>1?r.hashes=n:r.hash=n[0]:r.hash=n,"service_names_to_tags"in t&&(r.service_names_to_tags=t.service_names_to_tags),"service_names_to_actions_to_tags"in t&&(r.service_names_to_actions_to_tags=t.service_names_to_actions_to_tags),!("add_siblings_and_parents"in t)){e.next=14;break}if(i(t.add_siblings_and_parents)!==boolean){e.next=13;break}r.add_siblings_and_parents=t.add_siblings_and_parents,e.next=14;break;case 13:throw new W("value of add_siblings_and_parents is of improper type: expects boolean");case 14:return e.next=16,this.build_call("POST",j.ADD_TAGS,{json:r});case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e,this)}))),function(e,t){return S.apply(this,arguments)})},{key:"clean_tags",value:(b=a(s.mark((function e(t){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.build_call("GET",j.CLEAN_TAGS,{queries:{tags:JSON.stringify(t)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return b.apply(this,arguments)})},{key:"get_tag_services",value:(E=a(s.mark((function e(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.build_call("GET",j.GET_TAG_SERVICES);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return E.apply(this,arguments)})},{key:"get_url_files",value:(y=a(s.mark((function e(t){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.build_call("GET",j.GET_URL_FILES,{queries:{url:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"get_url_info",value:(v=a(s.mark((function e(t,n){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.build_call("GET",j.GET_URL_INFO,{queries:{url:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return v.apply(this,arguments)})},{key:"add_url",value:(g=a(s.mark((function e(t){var n;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},"url"in t){e.next=5;break}throw new J("You must have a url argument");case 5:if(n.url=t.url,"destination_page_name"in t&&(n.destination_page_name=t.destination_page_name),"destination_page_key"in t&&(n.destination_page_key=t.destination_page_key),!("show_destination_page"in t)){e.next=14;break}if("boolean"!=typeof t.show_destination_page){e.next=13;break}n.show_destination_page=t.show_destination_page,e.next=14;break;case 13:throw new W("value of show_destination_page is of improper type: expects boolean");case 14:if(!("service_names_to_tags"in t)){e.next=20;break}if("object"!==i(t.service_names_to_tags)){e.next=19;break}n.service_names_to_tags=t.service_names_to_tags,e.next=20;break;case 19:throw new W("value of service_names_to_tags is of improper type: expects object");case 20:return e.next=22,this.build_call("POST",j.ADD_URL,{json:n});case 22:return e.abrupt("return",e.sent);case 23:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"associate_url",value:(p=a(s.mark((function e(t,n){var r;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},"to_add"in t||"to_delete"in t){e.next=5;break}throw new J("You must have at least one 'to_delete' or 'to_add' argument");case 5:"to_add"in t&&("object"===i(t.to_add)?Object.keys(t.to_add).length>1?r.urls_to_add=t.to_add:r.url_to_add=t.to_add[0]:r.url_to_add=t.to_add),"to_delete"in t&&("object"===i(t.to_delete)?Object.keys(t.to_delete).length>1?r.urls_to_delete=t.to_delete:r.url_to_delete=t.to_delete[0]:r.url_to_delete=t.to_delete),"object"===i(n)?Object.keys(n).length>1?r.hashes=n:r.hash=n[0]:r.hash=n;case 8:return e.next=10,this.build_call("POST",j.ASSOCIATE_URL,{json:r});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)})},{key:"search_files",value:(d=a(s.mark((function e(t){var n,r,a=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=a.length>2&&void 0!==a[2]&&a[2],e.next=4,this.build_call("GET",j.SEARCH_FILES,{queries:{tags:JSON.stringify(t),system_inbox:n,system_archive:r}});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"get_file_metadata",value:(h=a(s.mark((function e(t){var n;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},!("file_ids"in t)||!("hashes"in t)){e.next=5;break}throw new W("only one argument is required, choose either file_ids or hashes");case 5:if(!("file_ids"in t)){e.next=11;break}if("object"!==i(t.file_ids)){e.next=10;break}n.file_ids=JSON.stringify(t.file_ids),e.next=11;break;case 10:throw new W("value of file_ids is of improper type: expects list");case 11:if(!("hashes"in t)){e.next=17;break}if("object"!==i(t.hashes)){e.next=16;break}n.hashes=JSON.stringify(t.hashes),e.next=17;break;case 16:throw new W("value of hashes is of improper type: expects list");case 17:"only_return_identifiers"in t&&(n.only_return_identifiers=t.only_return_identifiers);case 18:return console.log(n),e.next=21,this.build_call("GET",j.GET_FILE_METADATA,{queries:n});case 21:return e.abrupt("return",e.sent);case 22:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"get_file",value:(f=a(s.mark((function e(t){var n;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},!("file_id"in t)||!("hash"in t)){e.next=5;break}throw new W("only one argument is required, choose either file_id or hash");case 5:"file_id"in t&&(n.file_id=t.file_id),"hash"in t&&(n.hash=t.hash);case 7:return e.next=9,this.build_call("GET",j.GET_FILE,{parse:"blob",queries:n});case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"get_thumbnail",value:(_=a(s.mark((function e(t){var n;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},!("file_id"in t)||!("hash"in t)){e.next=5;break}throw new W("only one argument is required, choose either file_id or hash");case 5:"file_id"in t&&(n.file_id=t.file_id),"hash"in t&&(n.hash=t.hash);case 7:return e.next=9,this.build_call("GET",j.GET_THUMBNAIL,{parse:"blob",queries:n});case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return _.apply(this,arguments)})},{key:"get_cookies",value:(l=a(s.mark((function e(t){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.build_call("GET",j.GET_COOKIES,{queries:{domain:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"set_cookies",value:(o=a(s.mark((function e(t){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.build_call("POST",j.SET_COOKIES,{json:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"get_pages",value:(u=a(s.mark((function e(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.build_call("GET",j.GET_PAGES);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"get_page_info",value:(c=a(s.mark((function e(t){var n;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},"page_key"in t){e.next=5;break}throw new W("page_key argument required");case 5:n.page_key=t.page_key,"simple"in t&&(n.simple=t.simple);case 7:return e.next=9,this.build_call("GET",j.GET_PAGE_INFO,{queries:n});case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"focus_page",value:(t=a(s.mark((function e(t){var n;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},!("page_key"in t)){e.next=5;break}n.page_key=t.page_key,e.next=6;break;case 5:throw new W("page_key argument required");case 6:return e.next=8,this.build_call("POST",j.FOCUS_PAGE,{json:n});case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}],[{key:"default_api_address",get:function(){return"http://127.0.0.1:45869"}},{key:"ENDPOINTS",get:function(){return j}},{key:"FILE_STATUS",get:function(){return q}},{key:"TAG_ACTIONS",get:function(){return M}},{key:"URL_TYPE",get:function(){return Y}},{key:"PERMISSIONS",get:function(){return K}},{key:"STATUS_NUMBERS",get:function(){return V}},{key:"PAGE_TYPES",get:function(){return H}}]),e}(),$=["image/jpg","image/png","image/gif"];function X(e){return $.includes(e)}function Z(e,t){var n={address:e||te()};return n.key=t||function(){try{return JSON.parse(localStorage.getItem("access_key"))}catch(e){return}}(),U=new z(n)}function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return U||Z(e,t),U.fetch=fetch,U}function te(){try{return JSON.parse(localStorage.getItem("address"))}catch(e){return z.default_api_address}}var ne=[z.PERMISSIONS.SEARCH_FILES,z.PERMISSIONS.MANAGE_PAGES];function re(e,t,n,r){var a=Math.min(n/e,r/t);return{width:e*a,height:t*a}}function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;return new Promise((function(n){setTimeout(n.bind(null,t),e)}))}function se(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=t(e);if(n){var s=t(this).constructor;r=Reflect.construct(a,arguments,s)}else r=a.apply(this,arguments);return u(this,r)}}function ie(e,t,n){var r=e.slice();return r[8]=t[n],r}function ce(e){var t,n,r,a,s,i,c,u,o=e[8]+"";function l(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e)[5].apply(t,[e[8]].concat(r))}return{c:function(){t=h("button"),n=d(o),r=p(),a=h("span"),s=d("×"),this.h()},l:function(e){t=g(e,"BUTTON",{type:!0,class:!0,title:!0});var i=v(t);n=y(i,o),r=E(i),a=g(i,"SPAN",{class:!0,"aria-hidden":!0});var c=v(a);s=y(c,"×"),c.forEach(b),i.forEach(b),this.h()},h:function(){S(a,"class","badge"),S(a,"aria-hidden","true"),S(t,"type","button"),S(t,"class","btn btn-secondary btn-sm"),S(t,"title",i="Remove tag '"+e[8]+"'")},m:function(e,i){k(e,t,i),m(t,n),m(t,r),m(t,a),m(a,s),c||(u=w(t,"click",O(l)),c=!0)},p:function(r,a){e=r,1&a&&o!==(o=e[8]+"")&&T(n,o),1&a&&i!==(i="Remove tag '"+e[8]+"'")&&S(t,"title",i)},d:function(e){e&&b(t),c=!1,u()}}}function ue(e){for(var t,n,r,a,s,i,c,u,o,l,_,f,N,L,D,C,F,U,j=e[2].length>0?"Add Tag":"Search",q=e[0],M=[],Y=0;Y<q.length;Y+=1)M[Y]=ce(ie(e,q,Y));return{c:function(){t=h("div"),n=h("form"),r=h("div");for(var e=0;e<M.length;e+=1)M[e].c();a=p(),s=h("input"),i=p(),c=h("button"),u=d(j),l=p(),_=h("div"),f=h("div"),N=h("h3"),L=d("Search Tags"),D=p(),C=h("div"),this.h()},l:function(e){t=g(e,"DIV",{id:!0});var o=v(t);n=g(o,"FORM",{});var h=v(n);r=g(h,"DIV",{class:!0});for(var d=v(r),p=0;p<M.length;p+=1)M[p].l(d);a=E(d),s=g(d,"INPUT",{type:!0,class:!0,placeholder:!0,"aria-label":!0,"aria-describedby":!0}),i=E(d),c=g(d,"BUTTON",{class:!0,type:!0,id:!0,disabled:!0});var S=v(c);u=y(S,j),S.forEach(b),d.forEach(b),l=E(h),_=g(h,"DIV",{id:!0,class:!0});var k=v(_);f=g(k,"DIV",{id:!0,class:!0});var m=v(f);N=g(m,"H3",{class:!0});var w=v(N);L=y(w,"Search Tags"),w.forEach(b),m.forEach(b),D=E(k),C=g(k,"DIV",{id:!0,class:!0}),v(C).forEach(b),k.forEach(b),h.forEach(b),o.forEach(b),this.h()},h:function(){S(s,"type","text"),S(s,"class","form-control"),S(s,"placeholder","tag:to add"),S(s,"aria-label","Tag to add to search query"),S(s,"aria-describedby","add-tag"),S(c,"class","btn"),S(c,"type","submit"),S(c,"id","search"),c.disabled=o=0===e[0].length&&0===e[2].length,x(c,"btn-success",0===e[2].length&&e[0].length>0),x(c,"btn-primary",e[2].length>0),x(c,"disabled",0===e[2].length&&0===e[0].length),S(r,"class","input-group"),S(N,"class","sr-only sr-only-focusable"),S(f,"id","tags"),S(f,"class","col"),S(C,"id","action"),S(C,"class","col-auto text-center"),S(_,"id","query"),S(_,"class","row"),S(t,"id","search")},m:function(o,h){k(o,t,h),m(t,n),m(n,r);for(var d=0;d<M.length;d+=1)M[d].m(r,null);m(r,a),m(r,s),A(s,e[2]),m(r,i),m(r,c),m(c,u),m(n,l),m(n,_),m(_,f),m(f,N),m(N,L),m(_,D),m(_,C),F||(U=[w(s,"input",e[6]),w(n,"submit",O(e[7]))],F=!0)},p:function(e,t){var n=I(t,1)[0];if(17&n){var i;for(q=e[0],i=0;i<q.length;i+=1){var l=ie(e,q,i);M[i]?M[i].p(l,n):(M[i]=ce(l),M[i].c(),M[i].m(r,a))}for(;i<M.length;i+=1)M[i].d(1);M.length=q.length}4&n&&s.value!==e[2]&&A(s,e[2]),4&n&&j!==(j=e[2].length>0?"Add Tag":"Search")&&T(u,j),5&n&&o!==(o=0===e[0].length&&0===e[2].length)&&(c.disabled=o),5&n&&x(c,"btn-success",0===e[2].length&&e[0].length>0),4&n&&x(c,"btn-primary",e[2].length>0),5&n&&x(c,"disabled",0===e[2].length&&0===e[0].length)},i:R,o:R,d:function(e){e&&b(t),G(M,e),F=!1,P(U)}}}function oe(e,t,n){var r=t.tags,a=void 0===r?["landscape"]:r,s="";function i(){console.log(s),a.includes(s)||(a.push(s),n(0,a)),n(2,s="")}function c(e){var t=a.indexOf(String(e));console.log(e,t),a.splice(t,1),n(0,a)}var u=t.onSearch,o=void 0===u?function(e){N("".concat("/miia-web/","tags?q=").concat(JSON.stringify(e)))}:u;return e.$set=function(e){"tags"in e&&n(0,a=e.tags),"onSearch"in e&&n(1,o=e.onSearch)},[a,o,s,i,c,function(e){c(e)},function(){s=this.value,n(2,s)},function(){s.length>0?i():o(a)}]}var le=function(e){c(n,f);var t=se(n);function n(e){var a;return r(this,n),a=t.call(this),o(_(a),e,oe,ue,l,{tags:0,onSearch:1}),a}return n}();export{ee as G,X as I,le as T,re as c,ne as r,ae as t};
